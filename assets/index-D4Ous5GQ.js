import{r as u,a as G,R as X,S as Y,L as Z,b as ee,F,P as z,T as K,C as se,D as te,u as O,w as re,X as L,Q as ae,B as oe,H as k,c as ne,d as ie,e as le,f as ce,g as de,A as T,I as me,h as ue}from"./vendor-mbbMjmHO.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function c(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=c(r);fetch(r.href,o)}})();var D={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xe=u,fe=Symbol.for("react.element"),pe=Symbol.for("react.fragment"),he=Object.prototype.hasOwnProperty,ge=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,be={key:!0,ref:!0,__self:!0,__source:!0};function V(t,n,c){var a,r={},o=null,s=null;c!==void 0&&(o=""+c),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(s=n.ref);for(a in n)he.call(n,a)&&!be.hasOwnProperty(a)&&(r[a]=n[a]);if(t&&t.defaultProps)for(a in n=t.defaultProps,n)r[a]===void 0&&(r[a]=n[a]);return{$$typeof:fe,type:t,key:o,ref:s,props:r,_owner:ge.current}}_.Fragment=pe;_.jsx=V;_.jsxs=V;D.exports=_;var e=D.exports,I={},$=G;I.createRoot=$.createRoot,I.hydrateRoot=$.hydrateRoot;const ye=({formData:t,setFormData:n,onSave:c,onReset:a,onOpenScanner:r,isLoadingData:o=!1})=>{const s=g=>{const{name:f,value:b}=g.target;n(y=>({...y,[f]:b}))},m=t.accessKey&&t.issuer&&t.responsible&&t.totalValue;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Nova Leitura"}),e.jsxs("button",{onClick:a,className:"text-sm text-gray-500 hover:text-indigo-600 flex items-center gap-1 transition-colors",title:"Limpar formulário para nova leitura",children:[e.jsx(X,{size:14}),"Reiniciar Campos"]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"accessKey",className:"block text-sm font-medium text-gray-700",children:"Chave de Acesso / Código"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",id:"accessKey",name:"accessKey",value:t.accessKey,onChange:s,placeholder:"Escaneie ou digite a chave...",className:"flex-1 block w-full rounded-lg border-gray-300 border p-2.5 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsxs("button",{onClick:r,type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Y,{size:20,className:"mr-2"}),"Ler"]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:t.accessKey.length>0?`${t.accessKey.length} caracteres`:"Geralmente 44 dígitos para NF-e"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"responsible",className:"block text-sm font-medium text-gray-700",children:"Responsável"}),e.jsx("input",{type:"text",id:"responsible",name:"responsible",value:t.responsible,onChange:s,placeholder:"Quem recebeu?",className:"block w-full rounded-lg border-gray-300 border p-2.5 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"space-y-1 relative",children:[e.jsxs("label",{htmlFor:"issuer",className:"block text-sm font-medium text-gray-700 flex justify-between",children:["Emissora da Nota",o&&e.jsxs("span",{className:"text-xs text-indigo-600 flex items-center animate-pulse",children:[e.jsx(Z,{size:12,className:"mr-1 animate-spin"})," Buscando dados..."]})]}),e.jsx("input",{type:"text",id:"issuer",name:"issuer",value:t.issuer,onChange:s,placeholder:o?"Buscando...":"Nome da empresa/loja",readOnly:o,className:`block w-full rounded-lg border border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm ${o?"bg-gray-50 text-gray-500":""}`})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"totalValue",className:"block text-sm font-medium text-gray-700",children:"Valor Total (R$)"}),e.jsx("input",{type:"number",id:"totalValue",name:"totalValue",value:t.totalValue,onChange:s,step:"0.01",placeholder:"0.00",className:"block w-full rounded-lg border-gray-300 border p-2.5 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Se não preencheu automaticamente, verifique o cupom."})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:c,disabled:!m||o,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition-colors
              ${m&&!o?"bg-green-600 hover:bg-green-700 focus:ring-2 focus:ring-offset-2 focus:ring-green-500":"bg-gray-300 cursor-not-allowed"}`,children:[e.jsx(ee,{size:20,className:"mr-2"}),"Salvar Nota"]})})]})]})},je=({invoices:t,onDelete:n,onClearAll:c,onNewInvoice:a})=>{const r=()=>{if(t.length===0)return;const s=O.json_to_sheet(t.map(f=>({"Data Criação":new Date(f.createdAt).toLocaleString("pt-BR"),"Chave de Acesso":f.accessKey,Responsável:f.responsible,Emissora:f.issuer,"Valor Total":f.totalValue}))),m=O.book_new();O.book_append_sheet(m,s,"Notas");const g=new Date().toISOString().split("T")[0];re(m,`notas_export_${g}.xlsx`)},o=t.reduce((s,m)=>s+m.totalValue,0);return t.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center animate-in fade-in duration-300",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4 bg-gray-50 rounded-full flex items-center justify-center",children:e.jsx(F,{size:24,strokeWidth:1.5})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhuma nota salva"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"A lista está limpa no momento."}),e.jsxs("button",{onClick:a,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[e.jsx(z,{size:18,className:"mr-2"}),"Começar Nova Nota"]})]}):e.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Notas Salvas (",t.length,")"]}),e.jsxs("p",{className:"text-indigo-600 font-semibold mt-1",children:["Total Acumulado: ",o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto justify-start sm:justify-end",children:[e.jsxs("button",{onClick:a,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:[e.jsx(z,{size:16,className:"mr-2"}),"Nova"]}),e.jsxs("button",{onClick:r,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none",children:[e.jsx(F,{size:16,className:"mr-2"}),"Exportar"]}),e.jsxs("button",{onClick:s=>{s.preventDefault(),c()},title:"Apagar todas as notas",className:"flex-none inline-flex items-center justify-center px-3 py-2 border border-red-200 shadow-sm text-sm font-medium rounded-lg text-red-700 bg-red-50 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(K,{size:16,className:"mr-2"}),e.jsx("span",{children:"Apagar Tudo"})]})]})]}),e.jsx("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chave"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-xs font-mono text-gray-900 truncate max-w-[120px] sm:max-w-[200px]",title:s.accessKey,children:s.accessKey}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center mt-1",children:[e.jsx(se,{size:10,className:"mr-1"}),new Date(s.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:s.issuer}),e.jsx("div",{className:"text-sm text-gray-500",children:s.responsible})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center",children:[e.jsx(te,{size:12,className:"mr-1 text-gray-400"}),s.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:m=>{m.preventDefault(),n(s.id)},className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Excluir nota",children:e.jsx(K,{size:18})})})]},s.id))})]})})})]})},we=({onScanSuccess:t,onClose:n})=>{const[c,a]=u.useState(null),[r,o]=u.useState("QR"),s=u.useRef(null),m=u.useRef(!1);return u.useEffect(()=>{const g="reader";let f=!0;const b=async()=>{if(s.current&&m.current)try{await s.current.stop(),m.current=!1}catch(h){console.warn("Erro ao parar scanner anterior",h)}try{const h=r==="QR"?[k.QR_CODE]:[k.CODE_128,k.EAN_13,k.EAN_8,k.ITF,k.CODE_39];s.current||(s.current=new ne(g,!1));const S={fps:10,qrbox:r==="QR"?{width:250,height:250}:{width:300,height:150},aspectRatio:1,formatsToSupport:h};await s.current.start({facingMode:"environment"},S,v=>{f&&s.current&&m.current&&s.current.stop().then(()=>{var j;m.current=!1,(j=s.current)==null||j.clear(),t(v)}).catch(j=>{t(v)})},v=>{}),m.current=!0,a(null)}catch(h){console.error("Erro ao iniciar scanner:",h),f&&a("Não foi possível acessar a câmera. Tente recarregar a página.")}},y=setTimeout(()=>{b()},300);return()=>{f=!1,clearTimeout(y),s.current&&m.current&&s.current.stop().then(()=>{var h;m.current=!1,(h=s.current)==null||h.clear()}).catch(h=>console.error("Falha no cleanup",h))}},[r,t]),e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl overflow-hidden shadow-2xl relative flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-3 bg-gray-100 border-b flex justify-between items-center shrink-0",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Scanner"}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:e.jsx(L,{size:20,className:"text-gray-600"})})]}),e.jsxs("div",{className:"bg-white p-2 flex justify-center gap-2 border-b border-gray-100 shrink-0",children:[e.jsxs("button",{onClick:()=>o("QR"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${r==="QR"?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(ae,{size:18}),"QR Code"]}),e.jsxs("button",{onClick:()=>o("BARCODE"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${r==="BARCODE"?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(oe,{size:18}),"Cód. Barras"]})]}),e.jsx("div",{className:"relative flex-1 bg-black flex items-center justify-center overflow-hidden min-h-[300px]",children:c?e.jsxs("div",{className:"text-white text-center p-6 max-w-xs",children:[e.jsx("p",{className:"mb-2 text-red-400 font-semibold",children:"Erro"}),e.jsx("p",{className:"text-sm text-gray-300",children:c}),e.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-white text-black rounded hover:bg-gray-200",children:"Fechar"})]}):e.jsx("div",{id:"reader",className:"w-full h-full"})}),e.jsx("div",{className:"p-4 bg-white text-center shrink-0 border-t border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-500",children:r==="QR"?"Aponte para o QR Code quadrado (NFC-e).":"Aponte para o Código de Barras longo da Chave de Acesso (NF-e)."})})]})})},E={accessKey:"",responsible:"",issuer:"",totalValue:""},Ne=({isOpen:t,title:n,message:c,onConfirm:a,onCancel:r})=>t?e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"p-5 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx(T,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n}),e.jsx("p",{className:"text-sm text-gray-500",children:c})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex gap-3 flex-col sm:flex-row-reverse sm:px-6",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:w-auto sm:text-sm",onClick:a,children:"Confirmar"}),e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto sm:text-sm",onClick:r,children:"Cancelar"})]})]})}):null,ve=({message:t,type:n,onClose:c})=>{u.useEffect(()=>{const o=setTimeout(c,3e3);return()=>clearTimeout(o)},[c]);const a={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",info:"bg-blue-50 text-blue-800 border-blue-200"},r=n==="success"?de:n==="error"?T:me;return e.jsxs("div",{className:`fixed top-4 left-4 right-4 z-[70] md:left-auto md:w-96 flex items-center p-4 rounded-lg border shadow-lg transform transition-all duration-300 ease-in-out translate-y-0 ${a[n]}`,children:[e.jsx(r,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium flex-1",children:t}),e.jsx("button",{onClick:c,className:"ml-2 hover:opacity-70",children:e.jsx(L,{size:16})})]})};function Ce(){const[t,n]=u.useState(()=>{try{const i=localStorage.getItem("invoice_app_data");return i?JSON.parse(i):[]}catch{return[]}}),[c,a]=u.useState(E),[r,o]=u.useState(!1),s=u.useRef(""),[m,g]=u.useState(!1),[f,b]=u.useState("form"),[y,h]=u.useState(null),[S,v]=u.useState(null),[j,R]=u.useState({isOpen:!1,title:"",message:"",action:()=>{}});u.useEffect(()=>{localStorage.setItem("invoice_app_data",JSON.stringify(t))},[t]),u.useEffect(()=>{const i=l=>{l.preventDefault(),h(l)};return window.addEventListener("beforeinstallprompt",i),()=>window.removeEventListener("beforeinstallprompt",i)},[]);const B=async()=>{if(!y)return;y.prompt();const{outcome:i}=await y.userChoice;i==="accepted"&&h(null)},N=(i,l)=>{v({message:i,type:l})},Q=async i=>{if(!r){o(!0),a(l=>({...l,issuer:""}));try{const l=await new Promise((d,C)=>{const x=document.createElement("script"),p="jsonp_receitaws_"+Date.now()+"_"+Math.floor(Math.random()*1e3);window[p]=w=>{delete window[p],document.body.contains(x)&&document.body.removeChild(x),d(w)},x.src=`https://www.receitaws.com.br/v1/cnpj/${i}?callback=${p}`,x.onerror=()=>{delete window[p],document.body.contains(x)&&document.body.removeChild(x),C(new Error("Erro de conexão com ReceitaWS"))},document.body.appendChild(x)});if(l.status==="OK"||l.nome){let d=l.nome||l.fantasia;d&&d===d.toUpperCase()&&(d=d.replace(/\w\S*/g,p=>p.replace(/^\w/,w=>w.toUpperCase())));const C=l.municipio?` - ${l.municipio}/${l.uf}`:"",x=`${d}${C}`;a(p=>({...p,issuer:x}))}else a(d=>({...d,issuer:"CNPJ não encontrado na ReceitaWS"}))}catch{a(d=>({...d,issuer:"Erro ao consultar empresa"}))}finally{o(!1)}}};u.useEffect(()=>{const i=c.accessKey.replace(/\D/g,"");if(i.length===44){const l=i.substring(6,20);l!==s.current&&(s.current=l,Q(l))}else i.length<44&&(s.current="")},[c.accessKey]);const M=i=>{let l=i,d="";if(i.includes("http")||i.includes("|")){const x=i.match(/\b\d{44}\b/);if(x)l=x[0];else{const p=i.split(/[\?|&|=]/).find(w=>/^\d{44}$/.test(w));p&&(l=p||"")}try{const w=decodeURIComponent(i).split("|");if(w.length>2){for(const A of w)if(/^\d+\.\d{2}$/.test(A)){d=A;break}}}catch{console.log("Erro ao tentar extrair valor")}}a(x=>{const p=x.accessKey!==l;return{...x,accessKey:l,issuer:p?"":x.issuer,totalValue:d||x.totalValue}}),g(!1),N("Código lido com sucesso!","success");const C=new Audio("https://www.soundjay.com/buttons/sounds/beep-07.mp3");C.volume=.2,C.play().catch(()=>{})},U=()=>{if(!c.accessKey||!c.totalValue){N("Preencha os campos obrigatórios","error");return}if(t.some(d=>d.accessKey===c.accessKey)){N("Esta nota já foi salva anteriormente!","error");return}const l={id:crypto.randomUUID(),accessKey:c.accessKey,responsible:c.responsible,issuer:c.issuer,totalValue:parseFloat(c.totalValue),createdAt:new Date().toISOString()};n(d=>[l,...d]),a(E),s.current="",b("list"),N("Nota salva com sucesso!","success")},W=i=>{R({isOpen:!0,title:"Excluir Nota",message:"Tem certeza que deseja remover este registro permanentemente?",action:()=>{n(l=>l.filter(d=>d.id!==i)),R(l=>({...l,isOpen:!1})),N("Nota removida.","success")}})},q=()=>{R({isOpen:!0,title:"Apagar Tudo",message:"Isso irá limpar todo o histórico de notas salvas. Esta ação não pode ser desfeita.",action:()=>{n([]),a(E),s.current="",R(i=>({...i,isOpen:!1})),N("Histórico limpo com sucesso.","success")}})},H=()=>{a(E),s.current="",N("Campos reiniciados.","info")},J=()=>{a(E),s.current="",b("form")};return e.jsxs("div",{className:"min-h-screen bg-gray-100 pb-20 md:pb-8",children:[S&&e.jsx(ve,{message:S.message,type:S.type,onClose:()=>v(null)}),e.jsx(Ne,{isOpen:j.isOpen,title:j.title,message:j.message,onConfirm:j.action,onCancel:()=>R(i=>({...i,isOpen:!1}))}),e.jsx("header",{className:"bg-indigo-700 shadow-lg text-white sticky top-0 z-40 transition-all",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 md:py-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight",children:"Gerenciador de Notas"}),e.jsx("p",{className:"text-indigo-200 text-xs md:text-sm mt-1",children:"Scanner de NF-e e NFC-e"})]}),y&&e.jsxs("button",{onClick:B,className:"flex items-center gap-2 bg-indigo-500 hover:bg-indigo-400 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors shadow-md animate-pulse",children:[e.jsx(ie,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Instalar App"}),e.jsx("span",{className:"sm:hidden",children:"Instalar"})]})]})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex md:hidden bg-white p-1 rounded-lg shadow-sm mb-4 sticky top-[80px] z-30",children:[e.jsxs("button",{onClick:()=>b("form"),className:`flex-1 py-2 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-all
              ${f==="form"?"bg-indigo-100 text-indigo-700 shadow-sm":"text-gray-500"}`,children:[e.jsx(le,{size:18}),"Nova Nota"]}),e.jsxs("button",{onClick:()=>b("list"),className:`flex-1 py-2 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-all
              ${f==="list"?"bg-indigo-100 text-indigo-700 shadow-sm":"text-gray-500"}`,children:[e.jsx(ce,{size:18}),"Lista (",t.length,")"]})]}),e.jsx("div",{className:`md:block ${f==="form"?"block":"hidden"}`,children:e.jsx(ye,{formData:c,setFormData:a,onSave:U,onReset:H,onOpenScanner:()=>g(!0),isLoadingData:r})}),e.jsx("div",{className:`md:block ${f==="list"?"block":"hidden"}`,children:e.jsx(je,{invoices:t,onDelete:W,onClearAll:q,onNewInvoice:J})})]}),m&&e.jsx(we,{onScanSuccess:M,onClose:()=>g(!1)})]})}const P=document.getElementById("root");if(!P)throw new Error("Could not find root element to mount to");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(t=>{console.log("ServiceWorker registration successful with scope: ",t.scope)}).catch(t=>{console.log("ServiceWorker registration failed: ",t)})});const ke=I.createRoot(P);ke.render(e.jsx(ue.StrictMode,{children:e.jsx(Ce,{})}));
